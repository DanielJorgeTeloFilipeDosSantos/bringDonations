(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{112:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),c=n(27),r=n.n(c),i=(n(61),n(62),n(18)),s=n(19),l=n(51),u=n.n(l),p=function(){return o.a.createElement(u.a,null,o.a.createElement(i.b,{to:"/"},"Blog"),o.a.createElement(i.b,{to:"/post/create"},"+ Create a Post"))},h=n(12),m=n(13),b=n(15),f=n(14),d=n(16),O=n(54),v=n.n(O).a.create({baseURL:"/api"}),y=function(t){return new Promise((function(e,n){v.get("/post/".concat(t)).then((function(t){e(t.data.data.post)})).catch((function(t){n(t)}))}))},j=n(26),g=n.n(j),E=function(t){function e(t){var n;return Object(h.a)(this,e),(n=Object(b.a)(this,Object(f.a)(e).call(this,t))).state={posts:[]},console.log(n.props),n}return Object(d.a)(e,t),Object(m.a)(e,[{key:"componentDidMount",value:function(){var t=this;new Promise((function(t,e){v.get("/").then((function(e){t(e.data.data.posts)})).catch((function(t){e(t)}))})).then((function(e){t.setState({posts:e})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.posts.map((function(t){return o.a.createElement(i.b,{to:"/post/".concat(t._id),key:t._id},o.a.createElement(g.a,null,o.a.createElement(g.a.Body,null,o.a.createElement(g.a.Title,null,t.title),o.a.createElement(g.a.Text,null,t.body))))})))}}]),e}(a.Component),P=n(24),w=n(9),C=n(25),k=n.n(C),S=n(20),V=n.n(S),F=function(t){function e(t){var n;return Object(h.a)(this,e),(n=Object(b.a)(this,Object(f.a)(e).call(this,t))).onValueChange=n.onValueChange.bind(Object(w.a)(n)),n.onFormSubmit=n.onFormSubmit.bind(Object(w.a)(n)),n}return Object(d.a)(e,t),Object(m.a)(e,[{key:"onValueChange",value:function(t){var e=t.target.name,n=t.target.value;this.props.onValueChange(Object(P.a)({},e,n))}},{key:"onFormSubmit",value:function(t){t.preventDefault(),this.props.onFormSubmit()}},{key:"render",value:function(){return o.a.createElement(V.a,{onSubmit:this.onFormSubmit},o.a.createElement(V.a.Group,null,o.a.createElement(V.a.Label,null,"Title"),o.a.createElement(V.a.Control,{type:"text",name:"title",placeholder:"Post Title",value:this.props.value.title,onChange:this.onValueChange})),o.a.createElement(V.a.Group,null,o.a.createElement(V.a.Label,null,"Body"),o.a.createElement(V.a.Control,{type:"text",name:"body",placeholder:"Post Body",value:this.props.value.body,onChange:this.onValueChange})),this.props.children)}}]),e}(a.Component);function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(n,!0).forEach((function(e){Object(P.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var B=function(t){function e(t){var n;return Object(h.a)(this,e),(n=Object(b.a)(this,Object(f.a)(e).call(this,t))).state={post:{title:"",body:""}},n.onFormValueChange=n.onFormValueChange.bind(Object(w.a)(n)),n.createPost=n.createPost.bind(Object(w.a)(n)),n}return Object(d.a)(e,t),Object(m.a)(e,[{key:"onFormValueChange",value:function(t){this.setState({post:x({},this.state.post,{},t)})}},{key:"createPost",value:function(){var t,e=this,n=this.state.post;(t=n,new Promise((function(e,n){v.post("/post/create",t).then((function(t){e(t.data.data.post)})).catch((function(t){n(t)}))}))).then((function(t){e.props.history.push("/post/".concat(t._id))})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Create Post"),o.a.createElement(F,{value:this.state.post,onValueChange:this.onFormValueChange,onFormSubmit:this.createPost},o.a.createElement(k.a,{type:"submit"},"Create Post")))}}]),e}(a.Component),T=function(t){function e(t){var n;return Object(h.a)(this,e),(n=Object(b.a)(this,Object(f.a)(e).call(this,t))).state={post:null},n}return Object(d.a)(e,t),Object(m.a)(e,[{key:"loadPost",value:function(){var t=this;y(this.props.match.params.id).then((function(e){t.setState({post:e})})).catch((function(t){console.log(t)}))}},{key:"componentDidMount",value:function(){this.loadPost()}},{key:"componentDidUpdate",value:function(t,e){this.state.post&&t.match.params.id===this.props.match.params.id||this.loadPost()}},{key:"render",value:function(){var t=this.state.post;return t&&o.a.createElement("div",null,o.a.createElement("h1",null,t.title),o.a.createElement("p",null,t.body),o.a.createElement(i.b,{to:"/post/".concat(this.props.match.params.id,"/edit")},"Edit Post"))||o.a.createElement("div",null)}}]),e}(a.Component);function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(n,!0).forEach((function(e){Object(P.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var M=function(t){function e(t){var n;return Object(h.a)(this,e),(n=Object(b.a)(this,Object(f.a)(e).call(this,t))).state={post:{title:"",body:""}},n.onFormValueChange=n.onFormValueChange.bind(Object(w.a)(n)),n.editPost=n.editPost.bind(Object(w.a)(n)),n.deletePost=n.deletePost.bind(Object(w.a)(n)),n}return Object(d.a)(e,t),Object(m.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.id;y(e).then((function(e){t.setState({post:L({},e)})})).catch((function(t){console.log(t)}))}},{key:"onFormValueChange",value:function(t){this.setState({post:L({},this.state.post,{},t)})}},{key:"editPost",value:function(){var t=this;(function(t,e){return new Promise((function(n,a){v.patch("/post/".concat(t),e).then((function(t){n(t.data.data.post)})).catch((function(t){a(t)}))}))})(this.props.match.params.id,this.state.post).then((function(e){t.props.history.push("/post/".concat(e._id))})).catch((function(t){console.log(t)}))}},{key:"deletePost",value:function(){var t=this;(function(t){return new Promise((function(e,n){v.delete("/post/".concat(t)).then((function(){e()})).catch((function(t){n(t)}))}))})(this.props.match.params.id).then((function(e){t.props.history.push("/")})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Edit Post"),o.a.createElement(F,{value:this.state.post,onValueChange:this.onFormValueChange,onFormSubmit:this.editPost},o.a.createElement(k.a,{type:"submit"},"Edit Post")),o.a.createElement(k.a,{onClick:this.deletePost,className:"btn-danger"},"Delete Post"))}}]),e}(a.Component),G=n(55),J=n.n(G);var N=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(i.a,null,o.a.createElement(J.a,null,o.a.createElement(p,null),o.a.createElement(s.c,null,o.a.createElement(s.a,{path:"/",exact:!0,component:E}),o.a.createElement(s.a,{path:"/post/create",component:B}),o.a.createElement(s.a,{path:"/post/:id",exact:!0,component:T}),o.a.createElement(s.a,{path:"/post/:id/edit",component:M})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(111);r.a.render(o.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},56:function(t,e,n){t.exports=n(112)},61:function(t,e,n){},62:function(t,e,n){}},[[56,1,2]]]);
//# sourceMappingURL=main.80b98464.chunk.js.map